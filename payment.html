<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Payment Form</title>
    <link rel="stylesheet" href="/CSS/payment.css" />
  </head>
  <body>
    <div class="container">
      <div class="paycontainer">
        <h1>Confirm Your Payment</h1>
        <div class="first-row">
          <div class="owner">
            <h3>Your Name</h3>
            <div class="input-field">
              <input type="text" placeholder="enter name" />
            </div>
          </div>
          <div class="cvv">
            <h3>CVV</h3>
            <div class="input-field">
              <input type="password" placeholder="XXX" />
            </div>
          </div>
        </div>
        <div class="second-row">
          <div class="card-number">
            <h3>Card Number</h3>
            <div class="input-field">
              <input type="password" placeholder="XXXX - XXXX - XXXX - XXXX" />
            </div>
          </div>
        </div>
        <div class="third-row">
          <h3>Card Expiry Date</h3>
          <div class="selection">
            <div class="date">
              <div class="input-field">
                <input type="text" id="months" placeholder="XX" />
              </div>
              <div class="input-field">
                <input type="text" id="years" placeholder="XXXX" />
              </div>
            </div>
            <div class="cards">
              <img src="/projectImages/mc.png" alt="" />
              <img src="/projectImages/vi.png" alt="" />
              <img src="/projectImages/pp.png" alt="" />
            </div>
          </div>
        </div>
        <a href="success.html">Confirm</a>
      </div>
      <div id="userdetails">
        <h2 id="username" style="border: 1 px solid"></h2>
        <p id="add"></p>
        <p id="cno"></p>
        <div>
          <p id="ttlitem"></p>
          <p id="totalprc"></p>
        </div>
      </div>
    </div>
  </body>
</html>
<script>
  var data = JSON.parse(localStorage.getItem("CheckOutData"));
  cartArr = JSON.parse(localStorage.getItem("cartData"));
  totalprc = JSON.parse(localStorage.getItem("TotalPrice"));
  var item = cartArr.length;

  document.getElementById(
    "username"
  ).textContent = `Name : ${data.FName} ${data.LName}`;
  document.getElementById(
    "add"
  ).innerHTML = `<b>Address :</b> ${data.HouseNo}, ${data.Apart}, ${data.Street}, ${data.LandMark}, ${data.City}, ${data.Area}, ${data.Pincode}`;
  document.getElementById("cno").innerHTML = `<b>Phone :</b> ${data.ContactNo}`;
  document.querySelector(
    "#ttlitem"
  ).innerHTML = `<b>Total</b> : ${item} Items.`;

  document.getElementById(
    "totalprc"
  ).innerHTML = `<b>Amount</b> : Rs. ${roundOff(
    totalprc[totalprc.length - 1],
    2
  )}`;

  function roundOff(value, round) {
    return parseInt(value * 10 ** (round + 1)) -
      parseInt(value * 10 ** round) * 10 >
      4
      ? parseFloat(
          parseInt((value + parseFloat(1 / 10 ** round)) * 10 ** round)
        ) /
          10 ** round
      : parseFloat(parseInt(value * 10 ** round)) / 10 ** round;
  }
</script>
